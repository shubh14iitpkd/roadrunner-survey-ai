{
  "collection_name": "videos",
  "priority": "high",
  "description": "This collection stores metadata and lifecycle status of uploaded survey videos. It links surveys and routes to their raw videos, thumbnails, GPX tracks, processing state, progress, and annotated outputs. It acts as the bridge between raw data ingestion and analytical results.",
  "primary_intent": "Answer questions about video files, upload status, processing status, duration, storage locations, annotated videos, category-wise outputs, and linking videos to routes and surveys.",
  "when_to_use": [
    "User asks whether a video is uploaded, processing, or completed",
    "User asks for video duration, size, or progress",
    "User asks for video URL, thumbnail, or GPX file",
    "User asks for annotated video output",
    "User asks for category-wise annotated videos (lighting, pavement, signage, etc.)",
    "User asks which route or survey a video belongs to",
    "User asks to list all videos under a route or survey"
  ],
  "fallback_to_gemini": true,
  "fields": {
    "_id": {
      "meaning": "Unique identifier of the video record",
      "use_for": "Internal reference",
      "search_priority": "low"
    },
    "survey_id": {
      "meaning": "Survey identifier this video belongs to",
      "use_for": "Linking video to a survey session",
      "search_priority": "highest"
    },
    "route_id": {
      "meaning": "Route number where the video was captured",
      "use_for": "Route-based filtering and joins with roads and frames",
      "search_priority": "highest"
    },
    "title": {
      "meaning": "Original filename of the uploaded video",
      "use_for": "Identifying videos by name",
      "search_priority": "high"
    },
    "storage_url": {
      "meaning": "Path or URL where the original video is stored",
      "use_for": "Providing download or playback access",
      "search_priority": "high"
    },
    "thumbnail_url": {
      "meaning": "Thumbnail image of the video",
      "use_for": "Preview display",
      "search_priority": "medium"
    },
    "gpx_file_url": {
      "meaning": "GPX file associated with the video",
      "use_for": "GPS track visualization and mapping",
      "search_priority": "high"
    },
    "size_bytes": {
      "meaning": "Size of the video file in bytes",
      "use_for": "Storage and performance information",
      "search_priority": "medium"
    },
    "duration_seconds": {
      "meaning": "Length of the video in seconds",
      "use_for": "Time-based queries",
      "search_priority": "high"
    },
    "status": {
      "meaning": "Current state of the video (uploaded, processing, completed, failed, etc.)",
      "use_for": "Workflow and pipeline tracking",
      "search_priority": "highest"
    },
    "progress": {
      "meaning": "Processing completion percentage",
      "use_for": "Real-time status reporting",
      "search_priority": "medium"
    },
    "eta": {
      "meaning": "Estimated time remaining for processing",
      "use_for": "User feedback",
      "search_priority": "low"
    },
    "created_at": {
      "meaning": "Upload timestamp",
      "use_for": "Sorting and history",
      "search_priority": "low"
    },
    "updated_at": {
      "meaning": "Last status update time",
      "use_for": "Data freshness",
      "search_priority": "low"
    },
    "annotated_video_url": {
      "meaning": "Main annotated video output showing all detections",
      "use_for": "Providing processed visual result",
      "search_priority": "highest"
    },
    "category_videos": {
      "meaning": "Separate annotated videos by defect/asset category",
      "use_for": "Providing focused category-wise inspection videos",
      "search_priority": "high",
      "structure": {
        "corridor_pavement": {
          "meaning": "Annotated video for pavement and corridor defects",
          "use_for": "Pavement inspection",
          "search_priority": "high"
        },
        "corridor_structure": {
          "meaning": "Annotated video for corridor structural elements",
          "use_for": "Structure inspection",
          "search_priority": "medium"
        },
        "directional_signage": {
          "meaning": "Annotated video for traffic and directional signage",
          "use_for": "Signage inspection",
          "search_priority": "medium"
        },
        "its": {
          "meaning": "Annotated video for Intelligent Transport Systems assets",
          "use_for": "ITS inspection",
          "search_priority": "low"
        },
        "roadway_lighting": {
          "meaning": "Annotated video for lighting infrastructure",
          "use_for": "Street light and lighting asset inspection",
          "search_priority": "high"
        },
        "corridor_fence": {
          "meaning": "Annotated video for fencing and roadside barriers",
          "use_for": "Safety and fencing inspection",
          "search_priority": "medium"
        }
      }
    }
  },
  "example_questions": [
    "Is my video processing completed?",
    "Show me the annotated video for this route",
    "Give me the lighting category video",
    "Which videos are uploaded but not processed?",
    "How long is the video for route 258?",
    "Where is the GPX file for this video?",
    "List all videos under route 215",
    "What is the status of 2025_0817_115147_F.mp4?"
  ],
  "response_style": {
    "tone": "Operational, clear, system-oriented",
    "include_urls": true,
    "include_status": true,
    "prefer_database_over_gemini": true
  }
}
