{
  "collection_name": "surveys",
  "priority": "medium",
  "description": "This collection represents survey sessions conducted on specific routes and roads. It tracks survey metadata such as date, surveyor, versioning, status, and aggregated condition totals. It is mainly used to answer questions about survey history, survey ownership, survey progress, and which survey version is active.",
  "primary_intent": "Answer questions about when a survey was conducted, who conducted it, its version, whether it is the latest survey, its status, and high-level asset condition summaries.",
  "when_to_use": [
    "User asks about survey date or surveyor",
    "User asks how many surveys exist for a route",
    "User asks which survey is the latest",
    "User asks survey status (uploaded, processing, completed)",
    "User asks overall asset condition summary",
    "User asks for GPX availability for a survey"
  ],
  "fallback_to_gemini": true,
  "fields": {
    "_id": {
      "meaning": "Unique identifier of the survey record",
      "use_for": "Internal reference",
      "search_priority": "low"
    },
    "route_id": {
      "meaning": "Route number surveyed",
      "use_for": "Primary filter for survey lookup",
      "search_priority": "highest"
    },
    "road_id": {
      "meaning": "Road identifier this survey belongs to",
      "use_for": "Joining with roads collection",
      "search_priority": "high"
    },
    "survey_date": {
      "meaning": "Date when the survey was conducted",
      "use_for": "Timeline and history",
      "search_priority": "high"
    },
    "surveyor_name": {
      "meaning": "Name of the surveyor",
      "use_for": "Attribution and reporting",
      "search_priority": "medium"
    },
    "survey_version": {
      "meaning": "Version number of the survey for the same route",
      "use_for": "Identifying latest or previous surveys",
      "search_priority": "high"
    },
    "is_latest": {
      "meaning": "Indicates whether this is the most recent survey",
      "use_for": "Quick latest survey detection",
      "search_priority": "highest"
    },
    "status": {
      "meaning": "Current state of the survey (uploaded, processing, completed, etc.)",
      "use_for": "Workflow and pipeline tracking",
      "search_priority": "highest"
    },
    "totals": {
      "meaning": "Aggregated condition summary of surveyed assets",
      "use_for": "High-level quality overview",
      "search_priority": "medium",
      "structure": {
        "total_assets": {
          "meaning": "Total number of assets inspected",
          "use_for": "Scope size",
          "search_priority": "high"
        },
        "good": {
          "meaning": "Count of assets in good condition",
          "use_for": "Health indicator",
          "search_priority": "medium"
        },
        "fair": {
          "meaning": "Count of assets in fair condition",
          "use_for": "Medium-risk assets",
          "search_priority": "medium"
        },
        "poor": {
          "meaning": "Count of assets in poor condition",
          "use_for": "High-risk assets",
          "search_priority": "high"
        }
      }
    },
    "gpx_file_url": {
      "meaning": "GPX track file associated with the survey",
      "use_for": "Route visualization",
      "search_priority": "medium"
    },
    "created_at": {
      "meaning": "Survey record creation time",
      "use_for": "Audit trail",
      "search_priority": "low"
    },
    "updated_at": {
      "meaning": "Last modification time",
      "use_for": "Freshness check",
      "search_priority": "low"
    }
  },
  "example_questions": [
    "Who conducted the survey on route 106?",
    "What is the latest survey for this route?",
    "How many surveys are available for route 106?",
    "What is the status of the current survey?",
    "Show me survey condition totals",
    "When was the last survey conducted?",
    "Does this survey have a GPX file?"
  ],
  "response_style": {
    "tone": "Administrative, concise, factual",
    "include_versioning": true,
    "include_status": true,
    "prefer_database_over_gemini": true
  }
}
